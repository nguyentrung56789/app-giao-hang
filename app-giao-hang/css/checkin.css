:root { --bar-h:76px }
html,body{
  height:100%;margin:0;background:#000;color:#fff;
  font-family:system-ui,Segoe UI,Roboto,Arial
}
.stage{
  position:fixed;inset:0 0 var(--bar-h) 0;
  display:flex;align-items:center;justify-content:center;
  background:#000;height:calc(100vh - var(--bar-h))
}
@supports (height:100dvh){.stage{height:calc(100dvh - var(--bar-h))}}
video,canvas{width:100%;height:100%;object-fit:cover;display:block;background:#000}
.bar{
  position:fixed;left:0;right:0;bottom:0;height:var(--bar-h);
  background:#111;border-top:1px solid rgba(255,255,255,.08);
  display:flex;gap:10px;align-items:center;justify-content:center;
  padding:10px calc(12px + env(safe-area-inset-right))
           calc(10px + env(safe-area-inset-bottom))
           calc(12px + env(safe-area-inset-left));
  z-index:50;
}
.btn{
  appearance:none;border:none;border-radius:12px;
  padding:12px 16px;font-weight:700;font-size:16px;
  cursor:pointer;white-space:nowrap
}
.btn-blue{background:#2563eb;color:#fff}
.btn-green{background:#10b981;color:#fff}
.btn-gray{background:#374151;color:#fff}
.btn-on{background:#10b981!important;color:#fff!important}
.btn[disabled]{opacity:.5;cursor:not-allowed}

#toast{
  position:fixed;left:50%;top:0;transform:translate(-50%,-120%);
  opacity:0;background:#e0f2fe;color:#075985;border:1px solid #38bdf8;
  padding:10px 14px;border-radius:12px;font-weight:700;
  transition:transform .25s ease,opacity .25s ease;z-index:99;
  box-shadow:0 6px 22px rgba(0,0,0,.25);
}

.tag{
  display:none;
  position:fixed;left:10px;top:10px;z-index:60;
  background:#0b1220aa;border:1px solid #1e3a8a;color:#cde3ff;
  padding:8px 10px;border-radius:10px;font-size:13px;line-height:1.35
}
.tag b{color:#fff}

/* ===== Bottom Sheet hỏi gửi vị trí ===== */
.sheet{
  position:fixed;left:0;right:0;bottom:0;
  transform:translateY(110%);opacity:0;
  background:#0b1220;color:#e6edff;border-top:1px solid rgba(255,255,255,.08);
  transition:transform .28s ease,opacity .28s ease;z-index:70;
  padding:16px 14px calc(18px + env(safe-area-inset-bottom));
  box-shadow:0 -18px 40px rgba(0,0,0,.45);border-radius:16px 16px 0 0;
}
.sheet.on{ transform:translateY(0);opacity:1; }
.sheet h3{ margin:0 0 10px; font-size:16px }
.sheet p{ margin:0 0 12px; color:#9aa7c7; font-size:14px }
.sheet .row{ display:flex; gap:10px }
.sheet .btn{ flex:1 }
